# BigQuery sensor that checks if Linear issues data is available for the current date
name: linear.issues_data_sensor
type: bq.sensor.query
parameters:
    query: |
        SELECT CASE 
            WHEN EXISTS(
                SELECT 1 
                FROM `bruin-playground-mustafa-ersan.linear.issues` 
                WHERE DATE(created_at) >= "{{ end_date }}" 
                   OR DATE(created_at) = "2025-09-16"
            ) THEN true 
            ELSE false 
        END as has_data
    poke_interval: 60